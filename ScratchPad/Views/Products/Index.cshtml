@model List<ScratchPad.Models.Product>

@{
    ViewBag.Title = "Index";
}

<h2>Products</h2>
<div class="d-flex justify-content-between">
    <a href=@Url.Action("Create","Products")>Insert a Product</a>
    <form class="form-inline" action=@Url.Action("Index","Products")>
        <label for="search">Search</label>
        <input type="search" name="searchQuery" id="search" class="form-control" value="@ViewBag.SearchTerm" />
        <button class="btn btn-primary">GO</button>
    </form>
</div>



<table class="table mt-2">
    <thead>
        <tr>
            <th>
                ProductID
            </th>
            <th>
                ProductName
            </th>
            <th>
                Price
            </th>
            <th>
                DateOfPurchase
            </th>
            <th>
                AvailabilityStatus
            </th>
            <th>
                Category
            </th>
            <th>
                Brand
            </th>
            <th>
                Active
            </th>
        </tr>
    </thead>
    <tbody>
        @foreach (var product in Model)
        {
        <tr>
            <td>@product.ProductID</td>
            <td>@product.ProductName</td>
            <td>@product.Price.Value.ToString("C")</td>
            <td>@product.DateOfPurchase.Value.ToString("D")</td>
            <td>@product.AvailabilityStatus</td>
            <td>@product.Category.CategoryName</td>
            <td>@product.Brand.BrandName</td>
            <td>@product.Active</td>
            <td><a href=@Url.Action("Details","Products",new {id=@product.ProductID})>Details</a></td>
            <td>
                <a href=@Url.Action("Edit","Products",new {id=@product.ProductID})>Edit</a>
            </td>
            <td>
                <a href=@Url.Action("Delete","Products",new {id=@product.ProductID})>Delete</a>
            </td>
        </tr>
        }

    </tbody>
</table>
